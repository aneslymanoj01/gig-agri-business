<div class="add-product-page">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="breadcrumb">
        <span class="breadcrumb-item">Dashboard</span>
        <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
        <span class="breadcrumb-item">Products</span>
        <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
        <span class="breadcrumb-item active">Add New</span>
      </div>
      <h1 class="page-title">
        <mat-icon class="title-icon">add_box</mat-icon>
        Add New Product
      </h1>
      <p class="page-subtitle">Create a new product to expand your inventory</p>
    </div>
  </div>

  <!-- Form Section -->
  <div class="form-section">
    <div class="form-container">
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()" novalidate>
        
        <!-- Basic Information Card -->
        <div class="form-card">
          <div class="card-header">
            <mat-icon class="card-icon">inventory</mat-icon>
            <div class="card-title">
              <h3>Basic Information</h3>
              <p>Enter the product's essential details</p>
            </div>
          </div>
          
          <div class="form-grid basic-info">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Product Name *</mat-label>
              <input matInput formControlName="name" placeholder="e.g., Urea Fertilizer 50kg">
              <mat-icon matSuffix>inventory</mat-icon>
              <mat-error *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched">
                Product name is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>SKU</mat-label>
              <input matInput formControlName="sku" placeholder="e.g., FERT-UREA-50KG">
              <mat-icon matSuffix>qr_code</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Category</mat-label>
              <input matInput formControlName="category" placeholder="e.g., Fertilizer">
              <mat-icon matSuffix>category</mat-icon>
            </mat-form-field>
          </div>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" rows="3" placeholder="Product description..."></textarea>
            <mat-icon matSuffix>description</mat-icon>
          </mat-form-field>
        </div>

        <!-- Pricing Information Card -->
        <div class="form-card">
          <div class="card-header">
            <mat-icon class="card-icon">attach_money</mat-icon>
            <div class="card-title">
              <h3>Pricing Information</h3>
              <p>Set product pricing details</p>
            </div>
          </div>
          
          <div class="form-grid pricing-info">
            <mat-form-field appearance="outline">
              <mat-label>Unit Price *</mat-label>
              <input matInput formControlName="unitPrice" type="number" step="0.01" placeholder="0.00">
              <mat-icon matSuffix>attach_money</mat-icon>
              <mat-error *ngIf="productForm.get('unitPrice')?.invalid && productForm.get('unitPrice')?.touched">
                <span *ngIf="productForm.get('unitPrice')?.hasError('required')">Unit price is required</span>
                <span *ngIf="productForm.get('unitPrice')?.hasError('min')">Unit price must be greater than or equal to 0</span>
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <!-- Inventory Settings Card -->
        <div class="form-card">
          <div class="card-header">
            <mat-icon class="card-icon">warehouse</mat-icon>
            <div class="card-title">
              <h3>Inventory Settings</h3>
              <p>Configure stock levels and inventory</p>
            </div>
          </div>
          
          <div class="form-grid inventory-info">
            <mat-form-field appearance="outline">
              <mat-label>Stock Quantity *</mat-label>
              <input matInput formControlName="stockQuantity" type="number" placeholder="0">
              <mat-icon matSuffix>inventory_2</mat-icon>
              <mat-error *ngIf="productForm.get('stockQuantity')?.invalid && productForm.get('stockQuantity')?.touched">
                <span *ngIf="productForm.get('stockQuantity')?.hasError('required')">Stock quantity is required</span>
                <span *ngIf="productForm.get('stockQuantity')?.hasError('min')">Stock quantity must be greater than or equal to 0</span>
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Reorder Level</mat-label>
              <input matInput formControlName="reorderLevel" type="number" placeholder="0">
              <mat-icon matSuffix>low_priority</mat-icon>
            </mat-form-field>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="form-actions">
          <div class="action-buttons">
            <button mat-stroked-button type="button" (click)="onClear()" [disabled]="isLoading" class="clear-btn">
              <mat-icon>refresh</mat-icon>
              Clear Form
            </button>
            
            <button mat-stroked-button type="button" (click)="onCancel()" [disabled]="isLoading" class="cancel-btn">
              <mat-icon>close</mat-icon>
              Cancel
            </button>
            
            <button mat-raised-button color="primary" type="submit" [disabled]="!canSubmit()" class="create-btn">
              <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
              <mat-icon *ngIf="!isLoading">add_circle</mat-icon>
              {{ isLoading ? 'Creating...' : 'Create Product' }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
