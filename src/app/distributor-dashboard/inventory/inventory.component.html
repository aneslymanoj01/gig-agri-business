<div class="inventory-page">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="breadcrumb">
        <span class="breadcrumb-item">Dashboard</span>
        <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
        <span class="breadcrumb-item active">View Inventory</span>
      </div>
      <h1 class="page-title">
        <mat-icon class="title-icon">inventory</mat-icon>
        View Inventory
      </h1>
      <p class="page-subtitle">Monitor your current stock levels</p>
    </div>
  </div>

  <!-- Content Section -->
  <div class="content-container">
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Loading inventory...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && inventoryItems.length === 0" class="empty-state">
      <mat-icon>inventory</mat-icon>
      <h3>No Inventory Found</h3>
      <p>No inventory items available.</p>
    </div>

    <!-- Inventory Grid -->
    <div *ngIf="!isLoading && inventoryItems.length > 0" class="inventory-grid">
      
      <div *ngFor="let item of inventoryItems" class="product-card">
        <mat-card>
          
          <mat-card-header>
            <div class="product-header">
              <div class="product-info">
                <h3>{{item.productName}}</h3>
                <p class="distributor-id">Distributor ID: {{distributorId}}</p>
              </div>
              <div class="stock-status" [ngClass]="getStockStatus(item.availableQuantity)">
                <mat-icon>{{item.availableQuantity === 0 ? 'error' : item.availableQuantity < 10 ? 'warning' : 'check_circle'}}</mat-icon>
                <span>{{getStockStatusText(item.availableQuantity)}}</span>
              </div>
            </div>
          </mat-card-header>

          <mat-card-content>
            
            <div class="product-details">
              <div class="detail-row">
                <span class="label">Unit Price:</span>
                <span class="value price">LKR {{ item.unitPrice }}</span>
              </div>
              
              <div class="detail-row">
                <span class="label">Total Quantity:</span>
                <span class="value">{{item.totalQuantity}} units</span>
              </div>
              
              <div class="detail-row">
                <span class="label">Available Quantity:</span>
                <span class="value quantity" [ngClass]="getStockStatus(item.availableQuantity)">
                  {{item.availableQuantity}} units
                </span>
              </div>
              
              <div class="detail-row">
                <span class="label">Reserved Quantity:</span>
                <span class="value reserved">{{item.reservedQuantity}} units</span>
              </div>
            </div>

            <!-- Stock Level Progress Bar -->
            <div class="stock-progress">
              <div class="progress-label">
                <span>Stock Level</span>
                <span>{{item.availableQuantity}}/{{item.totalQuantity}}</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" 
                     [style.width.%]="(item.availableQuantity / item.totalQuantity) * 100"
                     [ngClass]="getStockStatus(item.availableQuantity)">
                </div>
              </div>
            </div>

          </mat-card-content>

        </mat-card>
      </div>

    </div>

  </div>

</div>
